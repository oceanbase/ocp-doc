OBProxy startup parameters
===============================================

This topic describes startup parameters of OBProxy. When you create an OBProxy cluster, you can go to **Parameter Settings** to specify startup parameters.

Startup parameters
---------------------------------------

The following table describes the startup parameters that you need to specify when you create an OBProxy cluster. Otherwise, default values apply.


|          Parameter           |    Default value    |                                                Value range                                                |                                                                                                                                                                                              Description                                                                                                                                                                                              |
|------------------------------|---------------------|-----------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| app_name                     | dropship            | -                                                                                                         | Specifies the application name of the OBProxy service.                                                                                                                                                                                                                                                                                                                                                |
| automatic_match_work_thread  | True                | <li> true   </li><li> false</li>                                                                               | Specifies whether to automatically create worker threads based on the number of CPU cores. If you set the value of this parameter to true, the upper limit of work_thread_num applies.                                                                                                                                                                                                                |
| block_thread_num             | 1                   | [1,4]                                                                                                   | Specifies the number of OBProxy threads for blocking tasks and is used for thread initialization.                                                                                                                                                                                                                                                                                                     |
| bt_retry_times               | -                   | -                                                                                                         | This parameter is no longer in use and will be removed in the next update.                                                                                                                                                                                                                                                                                                                            |
| enable_cpu_topology          | false               | <li> true   </li><li> false</li>       | Specifies whether to enable CPU affinity, which means that each worker thread is associated with a different CPU core.                                                                                                                                                                                                                                                                                |
| enable_metadb_used           | false               | <li> true   </li><li> false</li>       | Specifies whether the MetaDB of OceanBase Cloud Platform (OCP) is accessible when OBProxy is running.                                                                                                                                                                                                                                                                                                 |
| enable_strict_kernel_release | false               | <li> true   </li><li> false</li>      | Specifies whether the OS kernel is to be verified.  Valid values: <li> true: specifies to verify the OS kernel only on 5U, 6U, and 7U rackmount servers running on the RedHat operating system.   </li><li> false: specifies not to verify the OS kernel, but the OBProxy may be unstable. </li>   |
| frequent_accept              | true                | <li> true   </li><li> false</li>      | Specifies whether to initialize the net accept parameter.                                                                                                                                                                                                                                                                                                                                             |
| grpc_client_num              | 9                   | [9, 16]                                                                                                 | Specifies the number of gRPC clients.                                                                                                                                                                                                                                                                                                                                                                 |
| grpc_thread_num              | 8                   | [8, 16]                                                                                                 | Specifies the number of gRPC threads.                                                                                                                                                                                                                                                                                                                                                                 |
| listen_port                  | 2883                | (1024,65536)                                                                                              | Specifies the listening port of OBProxy.                                                                                                                                                                                                                                                                                                                                                              |
| local_bound_ip               | 0.0.0.0             | -                                                                                                         | Specifies the local IP address of OBProxy.                                                                                                                                                                                                                                                                                                                                                            |
| net_accept_threads           | 2                   | [0,8]                                                                                                   | Specifies the number of threads for net accept tasks.                                                                                                                                                                                                                                                                                                                                                 |
| obproxy_config_server_url    | -                   | -                                                                                                         | Specifies the URL for external users to access the OCP config url service.                                                                                                                                                                                                                                                                                                                            |
| prometheus_cost_ms_unit      | false               | <li> true   </li><li> false</li>                                                                                | Specifies whether to set the cost unit of Prometheus to milliseconds. Default value: microseconds.                                                                                                                                                                                                                                                                                                    |
| prometheus_listen_port       | 2884                | (1024,65536)                                                                                              | Specifies the listening port of OBProxy Prometheus.                                                                                                                                                                                                                                                                                                                                                   |
| proxy_id                     | 0                   | [0,255]                                                                                                 | Specifies the ID of an OBProxy. When the value of the proxy_service_mode parameter is set to server, you cannot set the value of the proxy_id parameter to 0.                                                                                                                                                                                                                                         |
| proxy_service_mode           | client              | <li> client   </li><li> server</li>    | Specifies the deployment and service mode of OBProxy.                                                                                                                                                                                                                                                                                                                                                 |
| rootservice_cluster_name     | -                   | -                                                                                                         | The default name of the cluster of the RootServers list (RSlist)                                                                                                                                                                                                                                                                                                                                      |
| rootservice_list             | 192.168.0.1:2881 | -                                                                                                         | Specifies the RSlist.  in the following format: ip1:sql_port1;ip2:sql_port2                                                                                                                                                                                                                                                                                                           |
| skip_proxy_sys_private_check | true                | <li> true   </li><li> false</li>       | Specifies whether to skip private CIDR blocks during the OBProxy check. If this parameter is set to true, the check is passed when private CIDR blocks are used.                                                                                                                                                                                                                                      |
| spool_thread_num             | -                   | -                                                                                                         | This parameter is no longer in use and will be removed in the next update.                                                                                                                                                                                                                                                                                                                            |
| stack_size                   | 1 MB                | [1 MB,10 MB]                                                                                            | Specifies the size of the thread stack and is used for thread creation.                                                                                                                                                                                                                                                                                                                               |
| enable_proxy_scramble        | true                | <li> true   </li><li> false</li>       | Specifies whether to enable scrambling on OBProxy.                                                                                                                                                                                                                                                                                                                                                    |
| task_thread_num              | 2                   | [1,4]                                                                                                   | Specifies the number of OBProxy threads for tasks.                                                                                                                                                                                                                                                                                                                                                    |
| work_thread_num              | 128                 | [1,128]                                                                                                 | Specifies the number of worker threads of OBProxy.  When the value of the automatic_match_work_thread parameter is set to true, the work_thread_num parameter specifies the maximum number of worker threads.                                                                                                                                                                         |
