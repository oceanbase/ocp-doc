# 任务信息

## TaskInstance 的数据结构

|        参数        |     类型      |                                                                                                                                                                         说明                                                                                                                                                                         |
|------------------|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id               | Long        | 软件包 ID                                                                                                                                                                                                                                                                                                                                             |
| name             | String      | 软件包名称                                                                                                                                                                                                                                                                                                                                              |
| clusterId        | Long        | 集群 ID                                                                                                                                                                                                                                                                                                                                              |
| tenantId         | Long        | 租户 ID                                                                                                                                                                                                                                                                                                                                              |
| hostId           | Long        | 主机 ID                                                                                                                                                                                                                                                                                                                                              |
| type             | String      | 任务类型，有如下可选值： - MANUAL：手动发起的运维任务 </br>  - SYS_ONECE：系统执行的单词任务    <!-- --> </br> - SCHEDULED：非内置的定时执行任务  </br> - SYS_SCHEDULED：系统内置定时执行任务                                      |
| status           | String      | 任务执行状态，有如下可选值： </br> - RUNNING：执行中   </br> - FAILED：执行失败    <!-- --></br> - SUCCESSFUL：执行成功                                                                                                                    |
| creator          | String      | 任务创建者用户名                                                                                                                                                                                                                                                                                                                                           |
| operation        | String      | 任务操作，有如下集中操作： </br> - EXECUTE：正常执行   </br> - RETRY：重试    <!-- --> </br> - ROLLBACK：回滚   </br>- SKIP：跳过    <!-- --> </br> - CANCEL：取消    |
| executor         | String      | 任务执行节点地址                                                                                                                                                                                                                                                                                                                                           |
| context          | String      | 任务上下文信息，JSON 格式                                                                                                                                                                                                                                                                                                                                    |
| createTime       | String      | 任务创建时间                                                                                                                                                                                                                                                                                                                                             |
| startTime        | String      | 任务开始时间                                                                                                                                                                                                                                                                                                                                             |
| finishTime       | String      | 任务结束时间                                                                                                                                                                                                                                                                                                                                             |
| prohibitRollback | Boolean     | 是否允许回滚                                                                                                                                                                                                                                                                                                                                             |
| subtasks         | ObjectArray | SubtaskInstance 数组，子任务汇总信息                                                                                                                                                                                                                                                                                                                         |

## SubtaskInstance 的数据结构

|        参数        |    类型     |                                                                                                                                                                                                                        说明                                                                                                                                                                                                                         |
|------------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id               | Long      | 子任务实例 ID                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| name             | String    | 子任务名称                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| seriesId         | Long      | 子任务序列 ID                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| description      | String    | 子任务描述信息                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| className        | String    | 子任务对应的类名                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| timeout          | Integer   | 子任务超时时间，单位秒                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| status           | String    | 子任务状态，有如下几种状态：</br> - PENDING：初始态，等待上游节点执行完成  </br> - READY：准备中，依赖节点已经执行完成，等待执行    <!-- --> </br> - RUNNING：执行中  </br> - CANCELING：取消中    <!-- --> </br> - FAILED：终态，执行失败  </br> - SUCCESSFUL：终态：执行成功    |
| operation        | String    | 子任务操作，有如下集中操作： </br> - EXECUTE：正常执行   </br> - RETRY：重试    <!-- --> </br> - ROLLBACK：回滚   </br>- SKIP：跳过    <!-- --> </br>- CANCEL：取消                                                                                                  |
| executor         | String    | 子任务执行节点信息                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| runTime          | Integer   | 子任务执行次数                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| context          | String    | 子任务执行上下文信息                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| createTime       | String    | 子任务创建时间                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| startTime        | String    | 子任务开始时间                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| finishTime       | String    | 子任务结束时间                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| nodeType         | String    | 节点类型，如 JAVA_TASK                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| paralleIdx       | Integer   | 并行子任务索引值，-1 为非并行子任务                                                                                                                                                                                                                                                                                                                                                                                                                               |
| upstreams        | LongArray | 上游子任务 ID 列表                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| downstream       | LongArray | 下游子任务 ID 列表                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| prohibitRollback | Boolean   | 子任务是否支持回滚                                                                                                                                                                                                                                                                                                                                                                                                                                         |
