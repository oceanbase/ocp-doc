监控指标 
=========================

本节介绍 OCP 有哪些监控指标及各指标的含义和计算方法。


|     **指标分组**      |    **指标名称**   |     **指标解释**          |  **计算表达式**    |
|-------------------|----------------|----------------------------|-------------|
| QPS               | sql_all_count                            | 每秒处理 SQL 语句数               | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)  |
| QPS               | sql_select_count                         | 每秒处理 Select 语句数            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)    |
| QPS               | sql_insert_count                         | 每秒处理 Insert 语句数            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)   |
| QPS               | sql_update_count                         | 每秒处理 Update 语句数            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)     |
| QPS               | sql_replace_count                        | 每秒处理 Replace 语句数           | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)     |
| QPS               | sql_delete_count                         | 每秒处理 Delete 语句数            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)   |
| QPS               | sql_other_count                         | 每秒处理 DDL、DCL、DTL 等其他语句次数            | sql_other_count: sum(rate(ob_sysstat{stat_id="40018",@LABELS}[@INTERVAL])) by (@GBLABELS)   |
| 响应时间              | sql_all_rt                               | 服务端每条 SQL 语句平均处理耗时         | (sum(rate(sysstat_value{metric_group="sysstat",stat_id="40003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40007",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40009",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) /(sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) |
| 响应时间              | sql_select_rt                            | 服务端每条 Select 语句平均处理耗时      | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)  |
| 响应时间              | sql_insert_rt                            | 服务端每条 Insert 语句平均处理耗时      | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)  |
| 响应时间              | sql_update_rt                            | 服务端每条 Update 语句平均处理耗时      | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40007",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)  |
| 响应时间              | sql_replace_rt                           | 服务端每条 Replace 语句平均处理耗时     | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)   |
| 响应时间              | sql_delete_rt                            | 服务端每条 Delete 语句平均处理耗时      | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40009",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) |
| 响应时间              | sql_other_rt                            | 服务端处理每条 DDL、DCL、DTL 等其他语句的平均耗时      | sum(rate(ob_sysstat{stat_id="40019",@LABELS}[@INTERVAL])) by (@GBLABELS) / sum(rate(ob_sysstat{stat_id="40018",@LABELS}[@INTERVAL])) by (@GBLABELS) |
| 活跃会话数             | active_session                           | 当前活跃会话数                    | sum(active_sessions{metric_group="all_virtual_processlist",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| SQL 执行计划类别        | sql_local_count                          | 每秒处理本地执行数                  | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40010",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| SQL 执行计划类别        | sql_remote_count                         | 每秒处理远程执行计划数                | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40011",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| SQL 执行计划类别        | sql_distributed_count                    | 每秒处理分布式执行计划数               | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40012",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 等待事件              | wait_event_count                         | 每秒等待事件次数                   | sum(rate(total_waits{metric_group="waitevent",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 等待事件耗时            | wait_event_rt                            | 等待事件平均耗时                   | sum(rate(time_wait{metric_group="waitevent",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(total_waits{metric_group="waitevent",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 请求等待队列            | request_queue_count                      | 平均每秒 SQL 进等待队列的次数          | sum(rate(sysstat_value{metric_group="sysstat",stat_id="20001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 请求等待队列耗时          | request_queue_time                       | SQL 在等待队列中等待耗时             | sum(rate(sysstat_value{metric_group="sysstat",stat_id="20002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="20001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| TPS               | transaction_count                        | 每秒处理事务数                    | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事务响应时间            | transaction_rt                           | 服务端每个事务平均处理耗时              | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="30005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 事务日志数             | trans_commit_log_count                   | 每秒提交的事务日志数                 | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事务日志量             | clog_trans_log_total_size                | 每秒提交的事务日志大小                | sum(rate(sysstat_value{metric_group="sysstat",stat_id="80057",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事务日志耗时            | trans_commit_log_sync_rt                 | 每次事务日志网络同步平均耗时             | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="30001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 锁等待               | memstore_write_lock_succ_count           | 写锁等待成功次数                   | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60021",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 锁等待               | memstore_write_lock_fail_count           | 写锁等待失败次数                   | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60022",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 等锁耗时              | memstore_write_lock_wait_time            | 写锁平均等待耗时                   | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60023",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / (sum(rate(sysstat_value{metric_group="sysstat",stat_id="60021",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="60022",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| MEMStore          | total_memstore_used                      | MEMStore 总大小               | sum(sysstat_value{metric_group="sysstat",stat_id="130001",@LABELS}) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| MEMStore          | active_memstore_used                     | 活跃 MEMStore 大小             | sum(sysstat_value{metric_group="sysstat",stat_id="130000",@LABELS}) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| IOPS              | io_read_count                            | SSStore 每秒读次数              | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IOPS              | io_write_count                           | SSStore 每秒写次数              | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IO 耗时             | io_read_rt                               | SSStore 每次读取平均耗时           | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="60000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| IO 耗时             | io_write_rt                              | SSStore 每次写入平均耗时           | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="60003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| IO 吞吐率            | io_read_size                             | SSStore 每秒读取数据量            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IO 吞吐率            | io_write_size                            | SSStore 每秒写入数据量            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 缓存大小              | block_cache_size                         | 块缓存大小                      | sum(cache_size{metric_group="all_virtual_kvcache_info",cache_name="user_block_cache",@LABELS}) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 缓存大小              | row_cache_size                           | 行缓存大小                      | sum(cache_size{metric_group="all_virtual_kvcache_info",cache_name="user_row_cache",@LABELS}) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 缓存大小              | plan_cache_size                          | 执行计划缓存大小                   | sum(mem_used{metric_group="plan_cache_stat",@LABELS}) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 缓存命中率             | block_cache_hit_ratio                    | 块缓存命中率                     | 100 \* 1 / (1 + sum(rate(sysstat_value{metric_group="sysstat",stat_id="50009",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="50008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 缓存命中率             | row_cache_hit_ratio                      | 行缓存命中率                     | 100 \* 1 / (1 + sum(rate(sysstat_value{metric_group="sysstat",stat_id="50001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="50000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 缓存命中率             | plan_cache_hit_ratio                     | 执行计划缓存命中率                  | 100 \* sum(rate(hit_count{metric_group="plan_cache_stat",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(access_count{metric_group="plan_cache_stat",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| QPS               | sql_all_count                            | 每秒处理 SQL 语句数               | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 查询响应时间            | sql_all_rt                               | 服务端每条 SQL 语句平均处理耗时         | (sum(rate(sysstat_value{metric_group="sysstat",stat_id="40003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40007",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40009",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) /(sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) |
| TPS               | transaction_count                        | 每秒处理事务数                    | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事务响应时间            | transaction_rt                           | 服务端每个事务平均处理耗时              | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="30005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 活跃会话数             | active_session                           | 当前活跃会话数                    | sum(active_sessions{metric_group="all_virtual_processlist",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 请求等待队列耗时          | request_queue_time                       | SQL 在等待队列中等待耗时             | sum(rate(sysstat_value{metric_group="sysstat",stat_id="20002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="20001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Linux 系统负载        | load1                                    | 过去1分钟系统平均负载                | avg(node_load1{@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Linux 系统负载        | load5                                    | 过去5分钟系统平均负载                | avg(node_load5{@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Linux 系统负载        | load15                                   | 过去15分钟系统平均负载               | avg(node_load15{@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| CPU 使用率           | cpu_percent                              | CPU 使用率                    | 100 \* (1 - sum(rate(node_cpu_seconds_total{mode="idle", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(node_cpu_seconds_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 内存                | memory_used                              | 使用物理内存大小                   | (avg(node_memory_MemTotal_bytes{@LABELS}) by (@GBLABELS) - avg(node_memory_MemFree_bytes{@LABELS}) by (@GBLABELS) - avg(node_memory_Cached_bytes{@LABELS}) by (@GBLABELS) - avg(node_memory_Buffers_bytes{@LABELS}) by (@GBLABELS)) / 1073741824                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 内存                | memory_buffers                           | 内核 Buffer Cache 大小         | avg(node_memory_Buffers_bytes{@LABELS}) by (@GBLABELS) / 1073741824                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 内存                | memory_free                              | 可用物理内存大小                   | avg(node_memory_MemFree_bytes{@LABELS}) by (@GBLABELS) / 1073741824                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IOPS              | io_read                                  | 每秒读次数                      | avg(rate(node_disk_reads_completed_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| IOPS              | io_write                                 | 每秒写次数                      | avg(rate(node_disk_writes_completed_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| IO 耗时             | io_read_time                             | 平均每次 IO 读取耗时               | 1000000 \* avg(rate(node_disk_read_time_seconds_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| IO 耗时             | io_write_time                            | 平均每次 IO 写入耗时               | 1000000 \* avg(rate(node_disk_write_time_seconds_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| IO 吞吐率            | io_read_byte                             | 每次读取数据量                    | avg(rate(node_disk_read_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IO 吞吐率            | io_write_byte                            | 每次写入数据量                    | avg(rate(node_disk_written_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 网络吞吐率             | net_recv                                 | 每秒接收数据量                    | avg(rate(node_network_receive_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 网络吞吐率             | net_send                                 | 每秒发送数据量                    | avg(rate(node_network_transmit_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 事务日志数             | trans_commit_log_count                   | 每秒提交的事务日志数                 | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事务日志量             | clog_trans_log_total_size                | 每秒提交的事务日志大小                | sum(rate(sysstat_value{metric_group="sysstat",stat_id="80057",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事务日志耗时            | clog_write_disk_rt                       | 每次事务日志写盘平均耗时               | sum(rate(sysstat_value{metric_group="sysstat",stat_id="80041",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="80040",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 事务日志耗时            | trans_commit_log_sync_rt                 | 每次事务日志网络同步平均耗时             | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="30001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| IOPS              | io_read_count                            | SSStore 每秒读次数              | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IOPS              | io_write_count                           | SSStore 每秒写次数              | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IO 耗时             | io_read_rt                               | SSStore 每次读取平均耗时           | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="60000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| IO 耗时             | io_write_rt                              | SSStore 每次写入平均耗时           | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="60003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| IO 吞吐率            | io_read_size                             | SSStore 每秒读取数据量            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IO 吞吐率            | io_write_size                            | SSStore 每秒写入数据量            | sum(rate(sysstat_value{metric_group="sysstat",stat_id="60005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| CPU 使用率           | cpu_percent                              | CPU 使用率                    | 100 \* (1 - sum(rate(node_cpu_seconds_total{mode="idle", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(node_cpu_seconds_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| QPS               | sql_all_count                            | 每秒处理 SQL 语句数               | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 查询响应时间            | sql_all_rt                               | 服务端每条 SQL 语句平均处理耗时         | (sum(rate(sysstat_value{metric_group="sysstat",stat_id="40003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40007",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40009",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) /(sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) |
| 活跃会话数             | active_session                           | 当前活跃会话数                    | sum(active_sessions{metric_group="all_virtual_processlist",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| QPS               | sql_all_count                            | 每秒处理sql语句数                 | sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| TPS               | transaction_count                        | 每秒处理事务数                    | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| SQL 响应时间          | sql_all_rt                               | 服务端每条 SQL 语句平均处理耗时         | (sum(rate(sysstat_value{metric_group="sysstat",stat_id="40003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40007",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40009",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) /(sum(rate(sysstat_value{metric_group="sysstat",stat_id="40002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40004",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40008",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="40000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) |
| 事务响应时间            | transaction_rt                           | 服务端每个事务平均处理耗时              | sum(rate(sysstat_value{metric_group="sysstat",stat_id="30006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="30005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 活跃会话数             | active_session                           | 当前活跃会话数                    | sum(active_sessions{metric_group="all_virtual_processlist",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事件等待_次数           | wait_event_count                         | 每秒等待事件次数                   | sum(rate(total_waits{metric_group="waitevent",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 事件等待_时间           | wait_event_rt                            | 等待事件平均耗时                   | sum(rate(time_wait{metric_group="waitevent",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(total_waits{metric_group="waitevent",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 容量_表数量            | table_count                              | 表数量                        | max(table_count{metric_group="all_table",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 容量_分区数量           | partition_count                          | 分区数量                       | sum(partition_count{metric_group="all_meta_table",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 事务日志耗时            | clog_write_disk_rt                       | 每次事务日志写盘平均耗时               | sum(rate(sysstat_value{metric_group="sysstat",stat_id="80041",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="80040",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| MEMStore          | major_freeze_trigger                     | 触发合并阈值                     | sum(sysstat_value{metric_group="sysstat",stat_id="130002",@LABELS}) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| MEMStore          | memstore_limit                           | MEMStore的limit             | sum(sysstat_value{metric_group="sysstat",stat_id="130004",@LABELS}) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Linux 系统负载        | load1                                    | 过去1分钟系统平均负载                | avg(node_load1{@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Linux 系统负载        | load5                                    | 过去5分钟系统平均负载                | avg(node_load5{@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Linux 系统负载        | load15                                   | 过去15分钟系统平均负载               | avg(node_load15{@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| CPU 使用率           | cpu_percent                              | CPU 使用率                    | 100 \* (1 - sum(rate(node_cpu_seconds_total{mode="idle", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(node_cpu_seconds_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| IOPS              | io_read                                  | 每秒读次数                      | avg(rate(node_disk_reads_completed_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| IOPS              | io_write                                 | 每秒写次数                      | avg(rate(node_disk_writes_completed_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| IO 耗时             | io_read_time                             | 每秒读取平均耗时                   | 1000000 \* avg(rate(node_disk_read_time_seconds_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| IO 耗时             | io_write_time                            | 每秒写入平均耗时                   | 1000000 \* avg(rate(node_disk_write_time_seconds_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| IO 吞吐率            | io_read_byte                             | 每次读取数据量                    | avg(rate(node_disk_read_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| IO 吞吐率            | io_write_byte                            | 每次写入数据量                    | avg(rate(node_disk_written_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 网络吞吐率             | net_recv                                 | 每秒接收数据量                    | avg(rate(node_network_receive_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 网络吞吐率             | net_send                                 | 每秒发送数据量                    | avg(rate(node_network_transmit_bytes_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / 1048576                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 内存                | memory_used                              | 使用物理内存大小                   | (avg(node_memory_MemTotal_bytes{@LABELS}) by (@GBLABELS) - avg(node_memory_MemFree_bytes{@LABELS}) by (@GBLABELS) - avg(node_memory_Cached_bytes{@LABELS}) by (@GBLABELS) - avg(node_memory_Buffers_bytes{@LABELS}) by (@GBLABELS)) / 1073741824                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 内存                | memory_buffers                           | 内核 Buffer Cache 大小         | avg(node_memory_Buffers_bytes{@LABELS}) by (@GBLABELS) / 1073741824                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 内存                | memory_free                              | 可用物理内存大小                   | avg(node_memory_MemFree_bytes{@LABELS}) by (@GBLABELS) / 1073741824                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 磁盘                | host_disk_used                           | 磁盘分区已使用容量                  | sum(host_partition_volume_used{@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| transaction       | transaction_total                        | 每秒事务数                      | sum(rate(odp_transaction_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| request           | request_total_commit                     | 每秒 commit 请求数              | sum(rate(odp_sql_request_total{sqltype="COMMIT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_delete                     | 每秒 delete 请求数              | sum(rate(odp_sql_request_total{sqltype="DELETE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_insert                     | 每秒 insert 请求数              | sum(rate(odp_sql_request_total{sqltype="INSERT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_large                      | 每秒大请求数                     | sum(rate(odp_sql_request_total{sqlLarge = "large", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| request           | request_total_select                     | 每秒 select 请求数              | sum(rate(odp_sql_request_total{sqltype="SELECT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_sequence                   | 每秒 sequence 请求数            | sum(rate(odp_sql_request_total{sqltype="SEQUENCE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| request           | request_total_slow                       | 每秒慢请求数                     | sum(rate(odp_sql_request_total{slowQuery = "true", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| request           | request_total_update                     | 每秒 update 请求数              | sum(rate(odp_sql_request_total{sqltype="UPDATE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_others                     | 每秒其他请求数                    | sum(rate(odp_sql_request_total{sqltype="OTHERS", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| connection_client | current_session_client                   | 客户端连接数                     | sum(odp_current_session{sessionType="client",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| connection_server | current_session_server                   | 服务端连接数                     | sum(odp_current_session{sessionType="server",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| sql_response_time | request_cost_commit                      | 平均每次 commit 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="COMMIT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="COMMIT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_delete                      | 平均每次 delete 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="DELETE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="DELETE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_insert                      | 平均每次 insert 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="INSERT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="INSERT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_prepare_send_request_time   | 平均每次请求发送准备耗时               | sum(rate(odp_sql_cost_total{timeType="prepare", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| sql_response_time | request_cost_server_process_request_time | 平均每次服务端处理请求耗时              | sum(rate(odp_sql_cost_total{timeType="server", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| sql_response_time | request_cost_select                      | 平均每次 select 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="SELECT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="SELECT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_sequence                    | 平均每次 sequence 请求耗时         | sum(rate(odp_sql_cost_total{timeType="total",sqltype="SEQUENCE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="SEQUENCE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| sql_response_time | request_cost_update                      | 平均每次 update 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="UPDATE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="UPDATE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_others                      | 平均每次其他请求耗时                 | sum(rate(odp_sql_cost_total{sqltype="OTHERS", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="OTHERS", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| error_package     | elogs_total_error                        | 平均每秒 error 日志数             | sum(rate(odp_elogs_total{logType = "error",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| error_package     | elogs_total_warn                         | 平均每秒 warn 日志数              | sum(rate(odp_elogs_total{logType = "warn",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| route_table       | entry_total_hit                          | 平均每秒路由表命中次数                | sum(rate(odp_entry_total{routeHit="true",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| route_table       | entry_total_partition                    | 平均每秒查询 partition entry 的次数 | sum(rate(odp_entry_total{entryType="partition_entry",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| route_table       | entry_total_route                        | 平均每秒查询 route entry 的次数     | sum(rate(odp_entry_total{entryType="route",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| route_table       | entry_total_success                      | 平均每秒路由表查询成功次数              | sum(rate(odp_entry_total{routeResult="true",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| route_table       | entry_total_table                        | 平均每秒查询 table entry 的次数     | sum(rate(odp_entry_total{entryType="table_entry",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| net_request_bytes | request_byte_client_request              | 客户端 request 字节数            | sum(rate(odp_request_byte{sessionType="client",transType="request",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| net_request_bytes | request_byte_client_response             | 客户端 reponse 字节数            | sum(rate(odp_request_byte{sessionType="client",transType="response",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| net_request_bytes | request_byte_server_request              | 服务端 request 字节数            | sum(rate(odp_request_byte{sessionType="server",transType="request",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| net_request_bytes | request_byte_server_response             | 服务端 response 字节数           | sum(rate(odp_request_byte{sessionType="server",transType="response",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| transaction       | transaction_total                        | 每秒事务数                      | sum(rate(odp_transaction_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| request           | request_total_commit                     | 每秒 commit 请求数              | sum(rate(odp_sql_request_total{sqltype="COMMIT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_delete                     | 每秒 delete 请求数              | sum(rate(odp_sql_request_total{sqltype="DELETE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_insert                     | 每秒 insert 请求数              | sum(rate(odp_sql_request_total{sqltype="INSERT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_large                      | 每秒大请求数                     | sum(rate(odp_sql_request_total{sqlLarge = "large", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| request           | request_total_select                     | 每秒 select 请求数              | sum(rate(odp_sql_request_total{sqltype="SELECT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_sequence                   | 每秒 sequence 请求数            | sum(rate(odp_sql_request_total{sqltype="SEQUENCE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| request           | request_total_slow                       | 每秒慢请求数                     | sum(rate(odp_sql_request_total{slowQuery = "true", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| request           | request_total_update                     | 每秒 update 请求数              | sum(rate(odp_sql_request_total{sqltype="UPDATE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| request           | request_total_others                     | 每秒其他请求数                    | sum(rate(odp_sql_request_total{sqltype="OTHERS", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| connection_client | current_session_client                   | 客户端连接数                     | sum(odp_current_session{sessionType="client",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| connection_server | current_session_server                   | 服务端连接数                     | sum(odp_current_session{sessionType="server",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| sql_response_time | request_cost_commit                      | 平均每次 commit 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="COMMIT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="COMMIT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_delete                      | 平均每次 delete 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="DELETE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="DELETE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_insert                      | 平均每次 insert 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="INSERT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="INSERT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_prepare_send_request_time   | 平均每次请求发送准备耗时               | sum(rate(odp_sql_cost_total{timeType="prepare", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| sql_response_time | request_cost_server_process_request_time | 平均每次服务端处理请求耗时              | sum(rate(odp_sql_cost_total{timeType="server", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| sql_response_time | request_cost_select                      | 平均每次 select 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="SELECT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="SELECT", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_sequence                    | 平均每次 sequence 请求耗时         | sum(rate(odp_sql_cost_total{timeType="total",sqltype="SEQUENCE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="SEQUENCE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| sql_response_time | request_cost_update                      | 平均每次 update 请求耗时           | sum(rate(odp_sql_cost_total{timeType="total",sqltype="UPDATE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="UPDATE", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| sql_response_time | request_cost_others                      | 平均每次其他请求耗时                 | sum(rate(odp_sql_cost_total{sqltype="OTHERS", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) / sum(rate(odp_sql_request_total{sqltype="OTHERS", @LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| error_package     | elogs_total_error                        | 平均每秒 error 日志数             | sum(rate(odp_elogs_total{logType = "error",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| error_package     | elogs_total_warn                         | 平均每秒 warn 日志数              | sum(rate(odp_elogs_total{logType = "warn",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| route_table       | entry_total_hit                          | 平均每秒路由表命中次数                | sum(rate(odp_entry_total{routeHit="true",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| route_table       | entry_total_partition                    | 平均每秒查询 partition entry 的次数 | sum(rate(odp_entry_total{entryType="partition_entry",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| route_table       | entry_total_route                        | 平均每秒查询 route entry 的次数     | sum(rate(odp_entry_total{entryType="route",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| route_table       | entry_total_success                      | 平均每秒路由表查询成功次数              | sum(rate(odp_entry_total{routeResult="true",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| route_table       | entry_total_table                        | 平均每秒查询 table entry 的次数     | sum(rate(odp_entry_total{entryType="table_entry",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| net_request_bytes | request_byte_client_request              | 客户端 request 字节数            | sum(rate(odp_request_byte{sessionType="client",transType="request",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| net_request_bytes | request_byte_client_response             | 客户端 reponse 字节数            | sum(rate(odp_request_byte{sessionType="client",transType="response",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| net_request_bytes | request_byte_server_request              | 服务端 request 字节数            | sum(rate(odp_request_byte{sessionType="server",transType="request",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| net_request_bytes | request_byte_server_response             | 服务端 response 字节数           | sum(rate(odp_request_byte{sessionType="server",transType="response",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CPU 使用率           | ob_cpu_percent                           | 租户的 CPU 使用率                | 100 \* sum(sysstat_value{metric_group="sysstat",stat_id="140006",@LABELS}) by (@GBLABELS) / sum(sysstat_value{metric_group="sysstat",stat_id="140005",@LABELS}) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| MEMStore          | tenant_memory_usage_percent              | 租户的 MEMStore 使用百分比         | 100 \* avg(mem_used{metric_group="tenant_memory_info",@LABELS}) by (@GBLABELS) / avg(mem_hold{metric_group="tenant_memory_info",@LABELS}) by (@GBLABELS)'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Rpc 包吞吐量          | rpc_packet_in_bytes                      | 单位时间内 RPC 收包的数据量（Byte）     | sum(rate(sysstat_value{metric_group="sysstat",stat_id="10001",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Rpc 包吞吐量          | rpc_packet_out_bytes                     | 单位时间内 RPC 发包的数据量（Byte）     | sum(rate(sysstat_value{metric_group="sysstat",stat_id="10003",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Rpc 包耗时           | rpc_packet_in_rt                         | RPC 平均收包耗时（微秒）             | (sum(rate(sysstat_value{metric_group="sysstat",stat_id="10005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="10006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="10000",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Rpc 包耗时           | rpc_packet_out_rt                        | RPC 平均发包耗时（微秒）             | (sum(rate(sysstat_value{metric_group="sysstat",stat_id="10005",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS) + sum(rate(sysstat_value{metric_group="sysstat",stat_id="10006",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)) / sum(rate(sysstat_value{metric_group="sysstat",stat_id="10002",@LABELS}[@INTERVAL]) by (@GBLABELS)) by (@GBLABELS)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

