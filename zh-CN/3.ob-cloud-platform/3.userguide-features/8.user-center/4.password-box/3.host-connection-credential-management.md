# 主机连接凭证管理

本节介绍主机连接凭据的建立和管理，当在 OCP 中添加主机时，需选择已创建好的连接凭据。

## 新建连接凭据

1. 在 OCP 系统界面的右上角，单击当前登录用户名，选择 **密码箱** 。

   进入 **密码箱** 页面。

   出于安全考虑，页面上的密码均显示为 **\*\*\*** 。

2. 在 **主机** 页签中单击 **新建连接** 。

3. 在弹出的 **新建连接** 对话框中配置待连接的主机的连接凭证。

   |  参数  |                                                       说明                                                        |
   |------|-----------------------------------------------------------------------------------------------------------------|
   | 凭据名  | 用户自定义。                                                                                                          |
   | 授权类型 | 选择 SSH 私钥时，需要保证 SSH 公钥已经存在于主机中，将 SSH 私钥复制到对应输入框。当 **OpenSSH** 的版本大于或等于 7.8 时，在 `ssh-keygen` 增加 `-m PEM` 参数。 |
   | 用户名  | 必须有 sudo 命令免密执行的权限，即在对应主机的 `/etc/sudoers` 文件中，指定该用户指令免密执行（ **NOPASSWD:ALL** ）。否则，会导致验证凭证连接失败，抛出异常信息。          |

   ![05131751](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6613190261/p273495.png)

4. 单击 **确定** 。

   此时，密码箱会对连接凭证进行连接测试，若测试失败，则新建连接失败。

## 修改连接凭据

1. 在 OCP 系统界面的右上角，单击当前登录用户名，选择 **密码箱** 。

   进入 **密码箱** 页面。

   出于安全考虑，页面上的密码均显示为 **\*\*\*** 。

2. 在 **主机** 页签中找到要修改的连接对象。

3. 单击该对象 **操作** 列的 **修改** 。

4. 在弹出的 **更新连接** 对话框中修改凭证信息。

5. 单击 **确定** 。

## 删除连接凭据

1. 在 OCP 系统界面的右上角，单击当前登录用户名，选择 **密码箱** 。

   进入 **密码箱** 页面。

   出于安全考虑，页面上的密码均显示为 **\*\*\*** 。

2. 在 **主机** 页签中找到要修改的连接对象。

3. 单击该对象 **操作** 列的 **删除** 。

   系统弹出删除确认的对话框。

4. 单击 **删除** 。

  <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>删除凭证后将不可访问该主机，请谨慎操作。</p>
  </main>
