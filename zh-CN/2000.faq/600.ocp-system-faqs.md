OCP 系统常见问题
===============================

本节描述 OCP 系统的常见问题。

功能及配套
--------------------------

**Q1: OCP 是否用到 Apache HttpServer ？**

A: OCP V2.0 及之后版本都使用的是嵌入式的 Tomcat 。

显示
-----------------------

**Q1: OCP 登录界面无法加载，如何解决？**

A: 更换浏览器为 Chrome 88 以上版本。

**Q2: 任务页面无法显示，如何解决？**

A：检查浏览器版本是否过低，建议将浏览器升级至最新版本。

登录
-----------------------

**Q1: OCP 登录时输入用户名或密码次数过多被禁止登录，应如何处理？**

A：如用户名输入错误，十分钟后即可登录；如密码输入错误，三十分钟可重新登录。请您耐心等待。也可执行 `docker restart ocp` 命令重新拉起 OCP 容器。

**Q2: 登录 OCP 时报错，应如何处理？**

A：打开浏览器的开发者模式，重新登录后，查看 response 中的 traceId 和 serverIp。

**Q3：当 OCP 提示 `客户端与服务器时间差过大，时间差为 xx 秒。请矫正客户端或服务器时间，时间差需小于 60 秒` 时，应如何处理？**

A：请确认客户端与服务器的时间，将时间调整一致。

使用
-----------------------

**Q1: OCP 系统执行任务时，各节点之间的延迟较大，如何解决？**

A: 暂时无法人为干预各节点执行任务的节奏。

**Q2: 可以通过 OCP 白屏来关闭会话吗？**

A: 可以，选中目标会话后，右下角会出现 **关闭会话** 按钮。

运维
-----------------------

**Q1: OCP 容器所在服务器重启后，OCP 容器启动失败，可能是什么原因？**

A: 物理服务器重启导致容器相关目录未挂载。

**Q2: 如何黑屏连接 MetaDB ？**

A: 执行命令 `obclient -h xxx.xxx.xxx.xxx -P30093 -u<用户名称>@<租户名词#集群名称> -p******` ，密码通过 `/tools/getpass.sh` 脚本获取。

**Q3: 是否有 MetaDB 的表定义说明？**

A: 有，请找技术支持人员获取。

**Q4: OCP 界面探测时钟偏移的接口是什么？因权限问题不能使用 clockdiff 做比较，想手动调用接口查询。**

A: OCP 没有提供探测时钟偏移的 API 。

**Q5: OCP-Agent 清理 observer.log 的策略是什么？**

A: `/home/admin/oceanbase/log` 目录下不超过磁盘 80% 就不清理，超过则保留最近的 100 个文件。
